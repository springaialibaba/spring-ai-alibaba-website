---
title: Spring AI Alibaba Graph ç®€ä»‹
keywords: [Spring AI,é€šä¹‰åƒé—®,ç™¾ç‚¼,æ™ºèƒ½ä½“åº”ç”¨,LangGraph,Java]
description: "Spring AI Alibaba Graph å¸®åŠ©å¼€å‘è€…æ›´å®¹æ˜“æ„å»ºæ™ºèƒ½ä½“åº”ç”¨å’Œå·¥ä½œæµã€‚"
---

## ä»€ä¹ˆæ˜¯ Spring AI Alibaba Graph

Spring AI Alibaba Graph æ˜¯ç¤¾åŒºæ ¸å¿ƒå®ç°ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯æ•´ä¸ªæ¡†æ¶åœ¨è®¾è®¡ç†å¿µä¸ŠåŒºåˆ«äº Spring AI åªåšåº•å±‚åŸå­æŠ½è±¡çš„åœ°æ–¹ã€‚Spring AI Alibaba æœŸæœ›å¸®åŠ©å¼€å‘è€…æ›´å®¹æ˜“çš„æ„å»ºæ™ºèƒ½ä½“åº”ç”¨ï¼ŒåŸºäº Graph å¼€å‘è€…å¯ä»¥æ„å»ºå·¥ä½œæµã€å¤šæ™ºèƒ½ä½“åº”ç”¨ã€‚

### è®¾è®¡ç†å¿µä¸ LangGraph å¯¹é½

Spring AI Alibaba Graph åœ¨è®¾è®¡ç†å¿µä¸Šå€Ÿé‰´ LangGraphï¼Œå› æ­¤åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥ç†è§£ä¸ºæ˜¯ **Java ç‰ˆçš„ LangGraph å®ç°**ã€‚å¦‚æœæ‚¨ç†Ÿæ‚‰ LangGraph çš„å¼€å‘æ¨¡å¼ï¼Œé‚£ä¹ˆä½¿ç”¨ Spring AI Alibaba Graph å°†ä¼šéå¸¸é¡ºæ‰‹ã€‚

**ä¸»è¦å¯¹é½ç‰¹æ€§ï¼š**
- **çŠ¶æ€å›¾æ¨¡å‹**ï¼šä¸ LangGraph ç›¸åŒçš„ StateGraph æ¦‚å¿µ
- **èŠ‚ç‚¹å’Œè¾¹**ï¼šç›¸åŒçš„å·¥ä½œæµæ„å»ºæ–¹å¼
- **çŠ¶æ€ç®¡ç†**ï¼šç±»ä¼¼çš„çŠ¶æ€ä¼ é€’å’Œåˆå¹¶æœºåˆ¶
- **æ¡ä»¶è·¯ç”±**ï¼šç›¸åŒçš„æ¡ä»¶åˆ†æ”¯å¤„ç†é€»è¾‘

ç¤¾åŒºåœ¨ LangGraph åŸºç¡€ä¸Šå¢åŠ äº†å¤§é‡é¢„ç½® Nodeã€ç®€åŒ–äº† State å®šä¹‰è¿‡ç¨‹ç­‰ï¼Œè®©å¼€å‘è€…æ›´å®¹æ˜“ç¼–å†™å¯¹ç­‰ä½ä»£ç å¹³å°çš„å·¥ä½œæµã€å¤šæ™ºèƒ½ä½“ç­‰ã€‚

## æ ¸å¿ƒç‰¹æ€§

Spring AI Alibaba Graphå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒç‰¹æ€§ï¼š

### Javaç”Ÿæ€æ·±åº¦é›†æˆ
- **SpringåŸç”Ÿæ”¯æŒ**ï¼šå®Œæ•´çš„ä¾èµ–æ³¨å…¥ã€é…ç½®ç®¡ç†ã€ç›‘æ§è§‚æµ‹

### ä¸°å¯Œçš„é¢„ç½®ç»„ä»¶
- **10+ é¢„å®šä¹‰èŠ‚ç‚¹ç±»å‹**ï¼šQuestionClassifierNodeã€LlmNodeã€ToolNodeã€KnowledgeRetrievalNodeç­‰
- **å¤šç§Agentæ¨¡å¼**ï¼šå†…ç½®Reactã€Reflectionç­‰æ™ºèƒ½ä½“æ¨¡å¼
- **ç®€åŒ–çš„Stateç®¡ç†**ï¼šç»Ÿä¸€çš„çŠ¶æ€å®šä¹‰å’Œåˆå¹¶ç­–ç•¥

### å£°æ˜å¼APIè®¾è®¡
- **ç±»ä¼¼LangGraphçš„API**ï¼šJavaå¼€å‘è€…æ›´å®¹æ˜“ä¸Šæ‰‹
- **é“¾å¼è°ƒç”¨**ï¼šç®€æ´çš„æµå¼APIï¼Œä»£ç æ›´åŠ ä¼˜é›…
- **æ¡ä»¶åˆ†æ”¯**ï¼šæ”¯æŒå¤æ‚çš„æ¡ä»¶é€»è¾‘å’Œå¹¶è¡Œå¤„ç†

### æ”¯æŒç‰¹æ€§
- **è§‚æµ‹æ€§æ”¯æŒ**ï¼šå®Œæ•´çš„æŒ‡æ ‡æ”¶é›†ã€é“¾è·¯è¿½è¸ª
- **ä¸­æ–­/æ¢å¤æœºåˆ¶**ï¼šæ”¯æŒæ£€æŸ¥ç‚¹ã€çŠ¶æ€æ¢å¤ã€é”™è¯¯å¤„ç†
- **äººæœºåä½œ**ï¼šHuman-in-the-loopæ”¯æŒï¼Œæ”¯æŒä¿®æ”¹çŠ¶æ€ã€æ¢å¤æ‰§è¡Œ
- **æµå¼é€ä¼ **ï¼šåŸç”Ÿæ”¯æŒStreamæµå¼è¾“å‡ºé€ä¼ 
- **å¤æ‚ç»“æ„**ï¼šæ”¯æŒå­å›¾/å¹¶è¡Œåˆ†æ”¯
- **å¯è§†åŒ–å¯¼å‡º**ï¼šæ”¯æŒPlantUMLã€Mermaidå¯è§†åŒ–å¯¼å‡º
- **çŠ¶æ€è®°å¿†**ï¼šæ”¯æŒè®°å¿†å’ŒæŒä¹…åŒ–å­˜å‚¨

## å¿«é€Ÿé¢„è§ˆï¼šå®¢æˆ·è¯„ä»·åˆ†ç±»ç³»ç»Ÿ

è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“ç¤ºä¾‹äº†è§£Spring AI Alibaba Graphçš„ä½¿ç”¨æ–¹å¼ã€‚è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•æ„å»ºä¸€ä¸ªå®¢æˆ·è¯„ä»·åˆ†ç±»ç³»ç»Ÿï¼š

### ç³»ç»Ÿæ¶æ„å›¾

![ç³»ç»Ÿæ¶æ„å›¾](/img/user/ai/tutorials/graph/introduction/customer-service-workflow.svg)

### æ ¸å¿ƒä»£ç å®ç°

```java
@Configuration
public class CustomerServiceWorkflow {
    
    @Bean
    public StateGraph customerServiceGraph(ChatModel chatModel) {
        ChatClient chatClient = ChatClient.builder(chatModel)
            .defaultAdvisors(new SimpleLoggerAdvisor())
            .build();
        
        // è¯„ä»·åˆ†ç±»å™¨ - åŒºåˆ†æ­£é¢/è´Ÿé¢è¯„ä»·
        QuestionClassifierNode feedbackClassifier = QuestionClassifierNode.builder()
            .chatClient(chatClient)
            .inputTextKey("input")
            .outputKey("classifier_output")
            .categories(List.of("positive feedback", "negative feedback"))
            .build();
        
        // é—®é¢˜ç»†åˆ†å™¨ - å¯¹è´Ÿé¢è¯„ä»·è¿›è¡Œç»†åˆ†
        QuestionClassifierNode specificQuestionClassifier = QuestionClassifierNode.builder()
            .chatClient(chatClient)
            .inputTextKey("input")
            .outputKey("classifier_output")
            .categories(List.of("after-sale service", "transportation", "product quality", "others"))
            .build();
        
        // çŠ¶æ€å·¥å‚å®šä¹‰ - ç®€åŒ–çš„çŠ¶æ€ç®¡ç†
        KeyStrategyFactory stateFactory = () -> {
            Map<String, KeyStrategy> strategies = new HashMap<>();
            strategies.put("input", new ReplaceStrategy());
            strategies.put("classifier_output", new ReplaceStrategy());
            strategies.put("solution", new ReplaceStrategy());
            return strategies;
        };
        
        // æ„å»ºå·¥ä½œæµ - å£°æ˜å¼API
        return new StateGraph("å®¢æˆ·æœåŠ¡è¯„ä»·å¤„ç†", stateFactory)
            .addNode("feedback_classifier", node_async(feedbackClassifier))
            .addNode("specific_question_classifier", node_async(specificQuestionClassifier))
            .addNode("recorder", node_async(new RecordingNode()))
            .addEdge(START, "feedback_classifier")
            .addConditionalEdges("feedback_classifier",
                edge_async(new FeedbackQuestionDispatcher()),
                Map.of("positive", "recorder", "negative", "specific_question_classifier"))
            .addEdge("recorder", END);
    }
}
```

### æ ¸å¿ƒç‰¹æ€§å±•ç¤º

è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†Spring AI Alibaba Graphçš„æ ¸å¿ƒç‰¹æ€§ï¼š
- **é¢„ç½®ç»„ä»¶**ï¼šä½¿ç”¨QuestionClassifierNodeå¿«é€Ÿå®ç°åˆ†ç±»åŠŸèƒ½
- **ç®€åŒ–çŠ¶æ€ç®¡ç†**ï¼šé€šè¿‡KeyStrategyFactoryç»Ÿä¸€ç®¡ç†çŠ¶æ€
- **Spring Booté›†æˆ**ï¼šé€šè¿‡@Configurationå’Œ@Beanå®Œæˆä¾èµ–æ³¨å…¥

## é€‚ç”¨åœºæ™¯

Spring AI Alibaba Graphç‰¹åˆ«é€‚åˆä»¥ä¸‹åœºæ™¯ï¼š

### æ™ºèƒ½ä½“åº”ç”¨
- **å®¢æœæœºå™¨äºº**ï¼šå¤šè½®å¯¹è¯ã€é—®é¢˜åˆ†ç±»ã€çŸ¥è¯†æ£€ç´¢
- **ä»£ç åŠ©æ‰‹**ï¼šä»£ç åˆ†æã€è‡ªåŠ¨ä¿®å¤ã€æµ‹è¯•ç”Ÿæˆ
- **æ–‡æ¡£å¤„ç†**ï¼šå†…å®¹æå–ã€åˆ†æã€æ€»ç»“ã€ç¿»è¯‘

### å·¥ä½œæµç¼–æ’
- **ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–**ï¼šå®¡æ‰¹æµç¨‹ã€æ•°æ®å¤„ç†æµæ°´çº¿
- **å†…å®¹ç”Ÿäº§æµæ°´çº¿**ï¼šå†™ä½œã€å®¡æ ¸ã€å‘å¸ƒçš„å®Œæ•´æµç¨‹
- **æ•°æ®åˆ†ææµæ°´çº¿**ï¼šæ•°æ®æ¸…æ´—ã€åˆ†æã€æŠ¥å‘Šç”Ÿæˆ

### å¤šæ™ºèƒ½ä½“åä½œ
- **å›¢é˜Ÿåä½œæ¨¡æ‹Ÿ**ï¼šä¸åŒè§’è‰²çš„AIåä½œå®Œæˆå¤æ‚ä»»åŠ¡
- **ä¸“å®¶ç³»ç»Ÿ**ï¼šå¤šä¸ªä¸“ä¸šé¢†åŸŸAIçš„åè°ƒå·¥ä½œ
- **ç ”ç©¶åŠ©æ‰‹**ï¼šè°ƒç ”ã€åˆ†æã€æŠ¥å‘Šç”Ÿæˆçš„åä½œæµç¨‹

## å®Œæ•´ç¤ºä¾‹

ğŸ”— [spring-ai-alibaba-examples](https://github.com/springaialibaba/spring-ai-alibaba-examples/tree/main/spring-ai-alibaba-graph-example) ä»“åº“åŒ…å«äº†å¤§é‡å®Œæ•´çš„å¯è¿è¡ŒGraphåŠŸèƒ½ç¤ºä¾‹å’Œåº”ç”¨ï¼Œæ‚¨å¯ä»¥å‚è€ƒä»¥å¿«é€Ÿä¸Šæ‰‹ Spring AI Alibaba Graph çš„å¼€å‘ã€‚